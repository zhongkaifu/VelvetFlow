[
  {
    "action_id": "common.web_scraper.llm_crawl.v1",
    "name": "LLM-guided web scraper (multi-URL)",
    "domain": "common",
    "description": "从一个或多个起始链接出发，使用 LLM 逐步抓取站内页面并回答业务需求。",
    "tool_name": "web_scraper.llm_crawl",
    "tags": [
      "web-scraping",
      "crawler",
      "llm",
      "research"
    ],
    "arg_schema": {
      "type": "object",
      "properties": {
        "urls": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1,
          "description": "起始 URL 列表，工具会在这些站点内逐步爬取。"
        },
        "goal": {
          "type": "string",
          "description": "用户需要解决的自然语言需求或研究目标。"
        },
        "max_pages": {
          "type": "integer",
          "default": 40,
          "description": "最多抓取的页面数量上限。"
        },
        "same_domain_only": {
          "type": "boolean",
          "default": true,
          "description": "是否只在起始站点域名内继续爬取。"
        },
        "concurrency": {
          "type": "integer",
          "default": 2,
          "description": "并发抓取页面数量。"
        },
        "politeness_delay": {
          "type": "number",
          "default": 0.8,
          "description": "相邻请求之间的延迟（秒）。"
        },
        "llm_model": {
          "type": "string",
          "default": "gpt-4o-mini",
          "description": "用于决策与总结的 LLM 模型。"
        },
        "openai_api_key": {
          "type": "string",
          "description": "可选的 OpenAI API Key（未提供时读取环境变量）。"
        },
        "page_md_chars": {
          "type": "integer",
          "default": 9000,
          "description": "单页提取 Markdown 的最大字符数。"
        },
        "goal_check_interval": {
          "type": "integer",
          "default": 10,
          "description": "每多少页让 LLM 判断是否已满足需求。"
        },
        "min_enqueue_score": {
          "type": "integer",
          "default": 55,
          "description": "队列入选链接的最小打分阈值。"
        },
        "timeout_ms": {
          "type": "integer",
          "default": 20000,
          "description": "单页抓取超时时间（毫秒）。"
        }
      },
      "required": [
        "urls",
        "goal"
      ]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "satisfied": {
          "type": "boolean",
          "description": "LLM 是否判定需求已满足。"
        },
        "answer": {
          "type": "string",
          "description": "基于已抓取页面生成的 Markdown 答案。"
        },
        "pages_crawled": {
          "type": "integer",
          "description": "实际抓取的页面数量。"
        },
        "state_path": {
          "type": "string",
          "description": "持久化的抓取摘要状态文件路径。"
        },
        "pages_path": {
          "type": "string",
          "description": "已抓取页面内容的 JSONL 文件路径。"
        }
      },
      "required": [
        "satisfied",
        "answer"
      ]
    },
    "enabled": true
  },
  {
    "action_id": "common.web_scraper.search_and_crawl.v1",
    "name": "Search then crawl with LLM guidance",
    "domain": "common",
    "description": "接收自然语言需求，先进行网页搜索得到链接，再调用 LLM 爬虫深入抓取并回答问题。",
    "tool_name": "web_scraper.search_and_crawl",
    "tags": [
      "web-scraping",
      "crawler",
      "llm",
      "search",
      "automation"
    ],
    "arg_schema": {
      "type": "object",
      "properties": {
        "goal": {
          "type": "string",
          "description": "用户的自然语言需求，会作为搜索 query 以及爬虫的目标。"
        },
        "search_limit": {
          "type": "integer",
          "default": 5,
          "description": "从搜索结果中提取的最大 URL 数量。"
        },
        "max_pages": {
          "type": "integer",
          "default": 40,
          "description": "LLM 爬虫最多抓取的页面数量。"
        },
        "same_domain_only": {
          "type": "boolean",
          "default": true,
          "description": "是否限制只抓取同域名链接。"
        },
        "concurrency": {
          "type": "integer",
          "default": 2,
          "description": "爬虫的并发抓取数。"
        },
        "politeness_delay": {
          "type": "number",
          "default": 0.8,
          "description": "相邻抓取请求之间的延迟（秒）。"
        },
        "llm_model": {
          "type": "string",
          "default": "gpt-4o-mini",
          "description": "用于决策与总结的 LLM 模型。"
        },
        "openai_api_key": {
          "type": "string",
          "description": "可选的 OpenAI API Key，缺省时读取环境变量。"
        },
        "page_md_chars": {
          "type": "integer",
          "default": 9000,
          "description": "单页提取 Markdown 的最大字符数。"
        },
        "goal_check_interval": {
          "type": "integer",
          "default": 10,
          "description": "每抓取多少页让 LLM 判断是否满足目标。"
        },
        "min_enqueue_score": {
          "type": "integer",
          "default": 55,
          "description": "入队下一步抓取链接的最低得分阈值。"
        },
        "timeout_ms": {
          "type": "integer",
          "default": 20000,
          "description": "单页抓取的超时时间（毫秒）。"
        }
      },
      "required": [
        "goal"
      ]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "query": {
          "type": "string",
          "description": "规范化后的用户需求。"
        },
        "seed_urls": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "从搜索结果抽取的起始 URL 列表。"
        },
        "search_results": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string"
              },
              "url": {
                "type": "string"
              },
              "snippet": {
                "type": "string",
                "description": "搜索结果的摘要。"
              }
            },
            "required": [
              "title",
              "url",
              "snippet"
            ]
          },
          "description": "网页搜索返回的结果列表。"
        },
        "crawl_result": {
          "type": "object",
          "description": "common.web_scraper.llm_crawl.v1 的执行结果。"
        }
      },
      "required": [
        "query",
        "seed_urls",
        "crawl_result"
      ]
    },
    "enabled": true
  },
  {
    "action_id": "common.read_file.v1",
    "name": "Read text file with safety limits",
    "domain": "common",
    "description": "Load a UTF-8 text file (respecting size and encoding limits) so downstream nodes can parse or summarize its contents.",
    "tool_name": "read_file",
    "tags": [
      "filesystem",
      "read",
      "content",
      "safety"
    ],
    "arg_schema": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string"
        },
        "max_bytes": {
          "type": "integer",
          "default": 65536
        },
        "encoding": {
          "type": "string",
          "default": "utf-8"
        }
      },
      "required": [
        "path"
      ]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string"
        },
        "size": {
          "type": "integer"
        },
        "content": {
          "type": "string"
        }
      },
      "required": [
        "path",
        "content"
      ]
    },
    "enabled": true
  },
  {
    "action_id": "common.search_news.v1",
    "name": "Search recent news",
    "domain": "common",
    "description": "Query a news search endpoint for recent headlines and snippets to support news monitoring and summarization workflows.",
    "tool_name": "search_news",
    "tags": [
      "search",
      "news",
      "headlines",
      "information",
      "serp"
    ],
    "arg_schema": {
      "type": "object",
      "properties": {
        "query": {
          "type": "string"
        },
        "limit": {
          "type": "integer",
          "default": 5
        },
        "timeout": {
          "type": "integer",
          "default": 8
        }
      },
      "required": [
        "query"
      ]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "results": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string"
              },
              "url": {
                "type": "string"
              },
              "snippet": {
                "type": "string",
                "description": "Short summary of the news result"
              }
            },
            "required": [
              "title",
              "url",
              "snippet"
            ]
          }
        }
      },
      "required": [
        "results"
      ]
    },
    "enabled": true
  },
  {
    "action_id": "common.search_web.v1",
    "name": "Search the web (SERP lookup)",
    "domain": "common",
    "description": "Run a web search (Bing SERP) for a query and return top result titles, URLs, and snippets for downstream retrieval or reasoning.",
    "tool_name": "search_web",
    "tags": [
      "search",
      "web",
      "serp",
      "bing",
      "information"
    ],
    "arg_schema": {
      "type": "object",
      "properties": {
        "query": {
          "type": "string"
        },
        "limit": {
          "type": "integer",
          "default": 5
        },
        "timeout": {
          "type": "integer",
          "default": 8
        }
      },
      "required": [
        "query"
      ]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "results": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string"
              },
              "url": {
                "type": "string"
              },
              "snippet": {
                "type": "string",
                "description": "Short description of the result"
              }
            },
            "required": [
              "title",
              "url",
              "snippet"
            ]
          }
        }
      },
      "required": [
        "results"
      ]
    },
    "enabled": true
  }
]
