{
  "workflow_name": "Nvidia和Google新闻搜索总结及发送",
  "description": "自动搜索Nvidia和Google相关新闻，逐篇总结，汇总整合所有总结，并将结果通过邮件发送给用户。",
  "nodes": [
    {
      "id": "search_nvidia_news",
      "type": "action",
      "action_id": "common.search_news.v1",
      "display_name": "搜索Nvidia相关新闻",
      "params": {
        "query": "Nvidia"
      },
      "out_params_schema": {
        "type": "object",
        "properties": {
          "results": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "title": {
                  "type": "string"
                },
                "url": {
                  "type": "string"
                },
                "snippet": {
                  "type": "string",
                  "description": "Short summary of the news result"
                }
              },
              "required": [
                "title",
                "url",
                "snippet"
              ]
            }
          }
        },
        "required": [
          "results"
        ]
      }
    },
    {
      "id": "search_google_news",
      "type": "action",
      "action_id": "common.search_news.v1",
      "display_name": "搜索Google相关新闻",
      "params": {
        "query": "Google"
      },
      "out_params_schema": {
        "type": "object",
        "properties": {
          "results": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "title": {
                  "type": "string"
                },
                "url": {
                  "type": "string"
                },
                "snippet": {
                  "type": "string",
                  "description": "Short summary of the news result"
                }
              },
              "required": [
                "title",
                "url",
                "snippet"
              ]
            }
          }
        },
        "required": [
          "results"
        ]
      }
    },
    {
      "id": "summarize_nvidia_0",
      "type": "action",
      "action_id": "common.summarize.v1",
      "display_name": "总结Nvidia新闻0",
      "params": {
        "text": "{{search_nvidia_news.results[0].snippet}}",
        "max_sentences": 3
      },
      "out_params_schema": {
        "type": "object",
        "properties": {
          "summary": {
            "type": "string"
          },
          "sentence_count": {
            "type": "integer"
          }
        },
        "required": [
          "summary"
        ]
      }
    },
    {
      "id": "summarize_nvidia_1",
      "type": "action",
      "action_id": "common.summarize.v1",
      "display_name": "总结Nvidia新闻1",
      "params": {
        "text": "{{search_nvidia_news.results[1].snippet}}",
        "max_sentences": 3
      },
      "out_params_schema": {
        "type": "object",
        "properties": {
          "summary": {
            "type": "string"
          },
          "sentence_count": {
            "type": "integer"
          }
        },
        "required": [
          "summary"
        ]
      }
    },
    {
      "id": "summarize_google_0",
      "type": "action",
      "action_id": "common.summarize.v1",
      "display_name": "总结Google新闻0",
      "params": {
        "text": "{{search_google_news.results[0].snippet}}",
        "max_sentences": 3
      },
      "out_params_schema": {
        "type": "object",
        "properties": {
          "summary": {
            "type": "string"
          },
          "sentence_count": {
            "type": "integer"
          }
        },
        "required": [
          "summary"
        ]
      }
    },
    {
      "id": "summarize_google_1",
      "type": "action",
      "action_id": "common.summarize.v1",
      "display_name": "总结Google新闻1",
      "params": {
        "text": "{{search_google_news.results[1].snippet}}",
        "max_sentences": 3
      },
      "out_params_schema": {
        "type": "object",
        "properties": {
          "summary": {
            "type": "string"
          },
          "sentence_count": {
            "type": "integer"
          }
        },
        "required": [
          "summary"
        ]
      }
    },
    {
      "id": "combine_summaries",
      "type": "action",
      "action_id": "common.summarize.v1",
      "display_name": "汇总整合所有总结",
      "params": {
        "text": "Nvidia新闻总结1: {{summarize_nvidia_0.summary}}\nNvidia新闻总结2: {{summarize_nvidia_1.summary}}\nGoogle新闻总结1: {{summarize_google_0.summary}}\nGoogle新闻总结2: {{summarize_google_1.summary}}",
        "max_sentences": 5
      },
      "out_params_schema": {
        "type": "object",
        "properties": {
          "summary": {
            "type": "string"
          },
          "sentence_count": {
            "type": "integer"
          }
        },
        "required": [
          "summary"
        ]
      }
    },
    {
      "id": "send_summary_email",
      "type": "action",
      "action_id": "productivity.compose_outlook_email.v1",
      "display_name": "发送总结邮件",
      "params": {
        "email_content": "以下是关于Nvidia和Google的新闻总结：\n{{combine_summaries.summary}}",
        "emailTo": "user@example.com"
      },
      "out_params_schema": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string"
          },
          "message": {
            "type": "string"
          }
        },
        "required": [
          "status"
        ]
      }
    }
  ]
}